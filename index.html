<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Memory MÃ¡gico ğŸŒˆ</title>
<style>
/* --- ESTILOS GENERALES Y FONDO --- */
body {
  margin: 0;
  font-family: 'poppins', cursivze;
  background: linear-gradient(135deg, #fad5e4, #e0f0ff, #f6c0d6);
  background-size: 400% 400%;
  animation: fondoAnimado 10s ease infinite;
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 100vh;
}

@keyframes fondoAnimado {
  0% {background-position: 0% 50%;}
  50% {background-position: 100% 50%;}
  100% {background-position: 0% 50%;}
}

h1 {
  margin-top: 0px;
  color: #ff8ad4;
  text-shadow: 1px 1px 3px #fff;
  font-size: 2.5rem;
}

/* --- ESTILOS DE INFO DE JUEGO --- */
.info-juego {
  display: flex;
  justify-content: space-around;
  align-items: center;
  width: 600px;
  margin: 0px;
  color: #ff8ad4;
  font-size: 1.1rem;
  font-weight: bold;
  background-color: rgba(255, 255, 255, 0.7);
  padding: 10px 5px;
  border-radius: 15px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* --- ESTILOS DE BOTÃ“N --- */
button {
  background-color: #ff9fd3;
  border: none;
  color: white;
  font-size: 1.2rem;
   padding: 8px 25px;
 border-radius: 25px;
  cursor: pointer;
  transition: 0.3s;
  box-shadow: 0 3px 6px rgba(0,0,0,0.2);
}

button:hover {
  background-color: #ff74c2;
  transform: scale(1.05);
}

/* --- ESTILOS DEL TABLERO Y CARTAS --- */
.game-board {
  width: 600px;
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 15px;
  margin: 10px auto 30px auto;
  perspective: 1000px;
}

.memory-card {
  width: 100%;
  height: 140px;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 0.6s;
  cursor: pointer;
}

.memory-card.flip {
  transform: rotateY(180deg);
}

.front-face, .back-face {
  width: 100%;
  height: 100%;
  position: absolute;
  border-radius: 15px;
  backface-visibility: hidden;
}

/* CORRECCIÃ“N: La imagen (frente) estÃ¡ girada para que la veamos al hacer flip */
.front-face {
  background-color: #fff;
  border: 3px solid #ffd2f7;
  box-shadow: 0 4px 8px rgba(255, 182, 255, 0.3);
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotateY(180deg); 
}

.front-face img {
  width: 70%;
  height: 70%;
  object-fit: contain;
}

/* REVERSO: Visible por defecto */
.back-face {
  background: linear-gradient(135deg, #ffc3e3, #d8c9ff, #aee1ff);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2rem;
  color: #fff;
  border: 2px solid #fff;
}

/* --- ESTILOS DEL MODAL DE VICTORIA --- */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  display: none; 
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

.modal.visible {
  display: flex;
}

.modal-contenido {
  background-color: #fff;
  padding: 40px;
  border-radius: 20px;
  text-align: center;
  box-shadow: 0 10px 25px rgba(255, 182, 255, 0.5);
  border: 4px solid #ff9fd3;
}

.modal-contenido h2 {
  color: #ff8ad4;
  font-size: 3rem;
  margin-bottom: 5px;
}

.modal-contenido p {
  color: #555;
  font-size: 1.2rem;
  margin: 15px 0;
}

/* --- ESTRELLITAS FLOTANTES --- */
.estrella {
  position: absolute;
  background: #fff;
  border-radius: 50%;
  opacity: 0.8;
  animation: flotar 8s infinite ease-in-out;
}

@keyframes flotar {
  from { transform: translateY(0) rotate(0deg); }
  to { transform: translateY(-100vh) rotate(360deg); }
}

footer {
  margin-top: auto;
  padding: 15px;
  font-size: 0.9rem;
  color: #888;
}
	/* --- RESPONSIVE DESIGN PARA MÃ“VILES --- */
@media (max-width: 650px) {
    /* 1. Ajuste General del Contenedor: Hace que los elementos ocupen el 90% del ancho de la pantalla */
    h1 {
        font-size: 2rem; /* Reduce un poco el tÃ­tulo */
    }

    .info-juego {
        width: 90%; /* Hace que la barra de info sea flexible */
        font-size: 1rem;
        padding: 5px 5px; /* Reduce el padding para ahorrar espacio */
    }

    button {
        font-size: 1rem; /* Reduce el tamaÃ±o del botÃ³n */
        padding: 6px 15px;
    }

    /* 2. Ajuste del Tablero: Reducimos el ancho total del tablero */
    .game-board {
        width: 90vw; /* Ocupa el 90% del ancho del viewport (pantalla) */
        gap: 8px; /* Reducimos el espacio entre cartas */
        margin: 10px auto 20px auto; /* Reducimos margen inferior */
    }

    /* 3. Ajuste de las Cartas: Reducimos la altura para que quepan las 4 filas */
    .memory-card {
        height: 80px; /* La altura es clave. La reducimos de 140px a 80px */
    }
    
    .back-face {
        font-size: 1.5rem; /* Ajustamos el icono de brillo âœ¨ */
    }
    
    .modal-contenido {
        width: 80%; /* Hace que el modal se vea bien en mÃ³vil */
        padding: 20px;
    }
    
    .modal-contenido h2 {
        font-size: 2rem;
    }
}
</style>
</head>

<body>
Â  <h1>Mimi - memo ğŸŒˆ</h1>
Â  
Â  Â  <div class="info-juego">
Â  Â  <div>Movimientos: <span id="movimientos">0</span></div>
Â  Â  <button onclick="reiniciarJuego()"> Reiniciar</button>
Â  Â  <div>Tiempo: <span id="tiempo">0:00</span></div>
Â  </div>
Â  
Â  <div class="game-board" id="game-board"></div>

Â  <footer>Hecho con ğŸ’– por Ana</footer>

Â  Â  <div id="modal-victoria" class="modal">
Â  Â  <div class="modal-contenido">
Â  Â  Â  <h2>Â¡Felicidades! ğŸ‰</h2>
Â  Â  Â  <p>Completaste el juego en <span id="final-tiempo"></span></p>
Â  Â  Â  <p>Con un total de <span id="final-movimientos"></span> movimientos.</p>
Â  Â  Â  <button onclick="reiniciarJuego(true)">Volver a Jugar</button>
Â  Â  </div>
Â  </div>
Â  Â  <script>
Â  Â  const cartas = [
Â  Â  Â  "img1.jpg","img2.jpg","img3.jpg","img4.jpg",
Â  Â  Â  "img5.jpg","img6.jpg","img7.jpg","img8.jpg"
Â  Â  ];

Â  Â  let tablero = document.getElementById('game-board');
Â  Â  let cartasSeleccionadas = [];
Â  Â  let bloqueado = false;
Â  Â  let parejasEncontradas = 0;

Â  Â  // VARIABLES DE ESTADO Y DOM
Â  Â  let movimientos = 0;
Â  Â  let segundos = 0;
Â  Â  let timerInterval = null;

Â  Â  const contadorMovimientos = document.getElementById('movimientos');
Â  Â  const contadorTiempo = document.getElementById('tiempo');
Â  Â  const modalVictoria = document.getElementById('modal-victoria');
Â  Â  const finalTiempo = document.getElementById('final-tiempo');
Â  Â  const finalMovimientos = document.getElementById('final-movimientos');
Â  Â  
Â  Â  // ARCHIVOS DE AUDIO (MANTENEMOS LA RUTA 'audio/')
Â  Â  const sonidoAcierto = new Audio('audio/acierto.mp3'); 
Â  Â  const sonidoError = new Audio('audio/error.mp3');
Â  Â  const sonidoVictoria = new Audio('audio/victoria.mp3');

Â  Â  // --- LÃ“GICA DE TIEMPO Y SONIDO ---
Â  Â  function iniciarContador() {
Â  Â  Â  if (timerInterval) return; 
Â  Â  Â  timerInterval = setInterval(() => {
Â  Â  Â  Â  segundos++;
Â  Â  Â  Â  let mins = Math.floor(segundos / 60);
Â  Â  Â  Â  let secs = segundos % 60;
Â  Â  Â  Â  contadorTiempo.textContent = `${mins}:${secs < 10 ? '0' : ''}${secs}`;
Â  Â  Â  }, 1000);
Â  Â  }
Â  Â  
Â  Â  function detenerContador() {
Â  Â  Â  clearInterval(timerInterval);
Â  Â  Â  timerInterval = null;
Â  Â  }
Â  Â  
Â  Â  function playSonido(audioElement) {
Â  Â  Â  if (audioElement) {
Â  Â  Â  Â  audioElement.currentTime = 0; 
Â  Â  Â  Â  audioElement.play().catch(e => console.log('Error al reproducir audio: ', e));
Â  Â  Â  }
Â  Â  }

Â  Â  // --- LÃ“GICA DE CARTAS ---
Â  Â  function crearCartas() {
Â  Â  Â  // Limpiar tablero antes de crear
Â  Â  Â  tablero.innerHTML = ""; 
Â  Â  Â  
Â  Â  Â  let duplicadas = [...cartas, ...cartas];
Â  Â  Â  duplicadas.sort(() => 0.5 - Math.random());
Â  Â  Â  
Â  Â  Â  duplicadas.forEach(src => {
Â  Â  Â  Â  const carta = document.createElement('div');
Â  Â  Â  Â  carta.classList.add('memory-card');
Â  Â  Â  Â  carta.setAttribute('data-card', src.split('.')[0]); 
Â  Â  Â  Â  
Â  Â  Â  Â  carta.innerHTML = `
Â  Â  Â  Â  Â  <img class="front-face" src="img/${src}" alt="carta">
Â  Â  Â  Â  Â  <div class="back-face">âœ¨</div>
Â  Â  Â  Â  `;
Â  Â  Â  Â  carta.addEventListener('click', girarCarta);
Â  Â  Â  Â  tablero.appendChild(carta);
Â  Â  Â  });
Â  Â  }

Â  Â  function girarCarta(e) {
Â  Â  Â  if (bloqueado) return;
Â  Â  Â  const carta = e.currentTarget;
Â  Â  Â  if (carta.classList.contains('flip')) return; 
Â  Â  Â  Â  
Â  Â  Â  if (movimientos === 0 && cartasSeleccionadas.length === 0) {
Â  Â  Â  Â  iniciarContador();
Â  Â  Â  }

Â  Â  Â  carta.classList.add('flip');
Â  Â  Â  cartasSeleccionadas.push(carta);

Â  Â  Â  if (cartasSeleccionadas.length === 2) {
Â  Â  Â  Â  movimientos++;
Â  Â  Â  Â  contadorMovimientos.textContent = movimientos;
Â  Â  Â  Â  verificarCoincidencia();
Â  Â  Â  }
Â  Â  }

Â  Â  function verificarCoincidencia() {
Â  Â  Â  const [c1, c2] = cartasSeleccionadas;
Â  Â  Â  const tag1 = c1.getAttribute('data-card');
Â  Â  Â  const tag2 = c2.getAttribute('data-card');

Â  Â  Â  if (tag1 === tag2) {
Â  Â  Â  Â  // Â¡Acierto!
Â  Â  Â  Â  playSonido(sonidoAcierto);
Â  Â  Â  Â  c1.removeEventListener('click', girarCarta);
Â  Â  Â  Â  c2.removeEventListener('click', girarCarta);
Â  Â  Â  Â  cartasSeleccionadas = [];
Â  Â  Â  Â  
Â  Â  Â  Â  parejasEncontradas++;
Â  Â  Â  Â  if (parejasEncontradas === cartas.length) {
Â  Â  Â  Â  Â  mostrarVictoria();
Â  Â  Â  Â  }
Â  Â  Â  } else {
Â  Â  Â  Â  // Â¡Error!
Â  Â  Â  Â  bloqueado = true;
Â  Â  Â  Â  playSonido(sonidoError);
Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  c1.classList.remove('flip');
Â  Â  Â  Â  Â  c2.classList.remove('flip');
Â  Â  Â  Â  Â  cartasSeleccionadas = [];
Â  Â  Â  Â  Â  bloqueado = false;
Â  Â  Â  Â  }, 1000);
Â  Â  Â  }
Â  Â  }

Â  Â  function mostrarVictoria() {
Â  Â  Â  detenerContador();
Â  Â  Â  playSonido(sonidoVictoria);
Â  Â  Â  
Â  Â  Â  finalTiempo.textContent = contadorTiempo.textContent;
Â  Â  Â  finalMovimientos.textContent = movimientos;
Â  Â  Â  
Â  Â  Â  modalVictoria.classList.add('visible');
Â  Â  }

Â  Â  function reiniciarJuego(ocultarModal = false) {
Â  Â  Â  detenerContador();
Â  Â  Â  
Â  Â  Â  // Resetear variables
Â  Â  Â  movimientos = 0;
Â  Â  Â  segundos = 0;
Â  Â  Â  parejasEncontradas = 0;
Â  Â  Â  cartasSeleccionadas = [];
Â  Â  Â  bloqueado = false;

Â  Â  Â  crearCartas(); // Vuelve a crear y barajar

Â  Â  Â  // Resetear visuales
Â  Â  Â  contadorMovimientos.textContent = 0;
Â  Â  Â  contadorTiempo.textContent = '0:00';

Â  Â  Â  if (ocultarModal) {
Â  Â  Â  Â  modalVictoria.classList.remove('visible');
Â  Â  Â  }
Â  Â  }

Â  Â  // --- INICIALIZACIÃ“N DE ESTRELLITAS (NO CRÃTICA) ---
Â  Â  function inicializarEstrellitas() {
Â  Â  Â  for (let i = 0; i < 20; i++) {
Â  Â  Â  Â  let estrella = document.createElement('div');
Â  Â  Â  Â  estrella.classList.add('estrella');
Â  Â  Â  Â  let size = Math.random() * 5 + 2;
Â  Â  Â  Â  estrella.style.width = size + "px";
Â  Â  Â  Â  estrella.style.height = size + "px";
Â  Â  Â  Â  estrella.style.left = Math.random() * 100 + "%";
Â  Â  Â  Â  estrella.style.top = Math.random() * 100 + "%";
Â  Â  Â  Â  estrella.style.animationDelay = (Math.random() * 10) + "s";
Â  Â  Â  Â  document.body.appendChild(estrella);
Â  Â  Â  }
Â  Â  }

Â  Â  // Ejecutar funciones de inicializaciÃ³n cuando el DOM estÃ© listo
Â  Â  document.addEventListener('DOMContentLoaded', () => {
Â  Â  Â  crearCartas();
Â  Â  Â  inicializarEstrellitas();
Â  Â  });
Â  </script>
</body>
</html>
